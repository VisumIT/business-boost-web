//Codigo do cadastro da empresa tentando trazer os erros da api com then(response) e catch(error)



import React, { Component } from 'react';
import { Route, Link, BrowserRouter as Router } from 'react-router-dom';
import InputMask from 'react-input-mask'

import { confirmAlert } from 'react-confirm-alert'
import 'react-confirm-alert/src/react-confirm-alert.css'

import Api from '../axios/api'

import './CadastroEmpresa.css'

class CadastroEmpresa extends Component {

    state = {
        fictitiousName: 'cmd',
        companyName: 'cam',
        cnpj: '75.298.033/0001-69',
        stateRegistration: '888.555.555.555',
        email: 'cmd@saaa',
        password: 'dewadwadadw',
        site: 'awada',
        description: 'adwaa',
    }

    async CadastroSucesso() {
        confirmAlert({
            title: 'Bussiness Boost',
            message: 'Registration success',
            buttons: [
                {
                    label: 'Ok'
                }
            ]
        })
    }

    handlerChange = (e) => {
        this.setState({ [e.target.name]: e.target.value })
    }

    handlerSubmit = async (event) => {
        console.log(this.state)
        event.preventDefault()
        Api.post('/companies', this.state).then((response) => {
            console.log(response)
        })
        .catch((error) => {
            console.log(error)
        })
    }

    render() {
        return (
            <div id="inicial">
                <div className="container-fluid h-100">
                    <div className="row h-100 text-center">
                        <div className="col-5 bg-primary img-representante center-row">
                            <div className="col-7  mx-auto h-50 w-50">
                                <div className="row row-logo-empresa">

                                </div>
                                <div className="row">
                                    <p className="h3 mx-auto">Fazendo da sua visão<br />o nosso negócio</p>
                                </div>
                            </div>
                        </div>
                        <div className="col-7 ">

                            <nav className="navbar navbar-light ">
                                <a className="navbar-brand"></a>
                                <form className="form-inline">
                                    <button className="btn btn-outline-success my-2 mr-2 my-sm-0" type="submit">
                                        <a href="login">Login</a>
                                    </button>
                                    <button className="btn btn-outline-success my-2 my-sm-0" type="submit">
                                        <a href="login">Cadastre-se</a>
                                    </button>

                                </form>
                            </nav>
                            <div className="row row-logo m-1">
                                <h2>Login / Cadastre-se</h2>
                            </div>
                            <div className="row m-5">
                                <h3 className="mx-auto">Olá!<br />Seja bem vindo ao<br />Bussiness Boost</h3>
                            </div>
                            <div className="row w-75 mx-auto pt-2 pb-2">
                                <form className="mx-auto" onSubmit={this.handlerSubmit}>
                                    <div className="form-group">
                                        <label className="float-left" htmlFor="exampleInputEmail1">Nome Fantasia</label><br />
                                        <input
                                            className="line-input"
                                            placeholder="nome fantasia"
                                            type="text"
                                            name="fictitiousName"
                                            value={this.state.fictitiousName}
                                            onChange={this.handlerChange}
                                            required
                                        />
                                    </div>
                                    <div className="form-group">
                                        <label className="float-left mt-3" htmlFor="exampleInputEmail1">Razão Social</label><br />
                                        <input
                                            className="line-input"
                                            placeholder="razão social"
                                            type="text"
                                            name="companyName"
                                            value={this.state.companyName}
                                            onChange={this.handlerChange}
                                            required
                                        />
                                    </div>
                                    <div className="form-group">
                                        <label className="float-left mt-3" htmlFor="exampleInputEmail1">CNPJ</label><br />
                                        <InputMask
                                            mask="99.999.999/9999-99"
                                            className="line-input"
                                            placeholder="CNPJ"
                                            type="text"
                                            name="cnpj"
                                            value={this.state.cnpj}
                                            onChange={this.handlerChange}
                                            required
                                        />
                                    </div>

                                    <div className="form-group">
                                        <label className="float-left mt-3" htmlFor="exampleInputEmail1">Inscrição Estadual</label><br />
                                        <InputMask
                                            mask="999.999.999.999"
                                            className="line-input"
                                            placeholder="Inscrição Estadual"
                                            type="text"
                                            name="stateRegistration"
                                            value={this.state.stateRegistration}
                                            onChange={this.handlerChange}
                                            required
                                        />
                                    </div>

                                    <div className="form-group">
                                        <label className="float-left mt-3" htmlFor="exampleInputEmail1">Email</label><br />
                                        <input
                                            className="line-input"
                                            placeholder="Email"
                                            type="email"
                                            name="email"
                                            value={this.state.email}
                                            onChange={this.handlerChange}
                                            required
                                        />
                                    </div>
                                    <div className="form-group">
                                        <label className="float-left mt-3" htmlFor="exampleInputEmail1">Senha</label><br />
                                        <input
                                            className="line-input"
                                            placeholder="Senha"
                                            type="password"
                                            minLength="8"
                                            name="password"
                                            value={this.state.password}
                                            onChange={this.handlerChange}
                                            required
                                        />
                                    </div>
                                    <div className="form-group">
                                        <label className="float-left mt-3" htmlFor="exampleInputPassword1">Site</label><br />
                                        <input
                                            className="line-input"
                                            placeholder="Site"
                                            type="text"
                                            name="site"
                                            onChange={this.handlerChange}
                                        />
                                    </div>

                                    <div className="form-group">
                                        <label className="float-left mt-3" htmlFor="exampleFormControlTextarea1">Descrição</label><br />
                                        <textarea
                                            className=""
                                            rows="3"
                                            placeholder="Descrição"
                                            type="text"
                                            name="description"
                                            onChange={this.handlerChange}
                                        ></textarea>
                                    </div>
                                    <button type="submit" className="btn btn-primary mb-4">Enviar</button>
                                </form>
                            </div>

                        </div>
                    </div>
                </div>

            </div>
        )
    }
}

export default CadastroEmpresa;